<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Impostor Clash Royale</title>
<style>
  body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    background: #0f172a;
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }
  .card {
    background: #020617;
    border-radius: 16px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 0 30px rgba(0,0,0,.6);
  }
  h1 { margin-bottom: 16px; }
  input, select, button {
    width: 100%;
    padding: 12px;
    margin: 6px 0;
    border-radius: 8px;
    border: none;
    font-size: 16px;
  }
  button {
    background: #2563eb;
    color: white;
    font-weight: bold;
  }
  button:active { transform: scale(.98); }
  .hidden { display: none; }
  .reveal {
    margin-top: 20px;
    background: #1e293b;
    padding: 30px;
    border-radius: 12px;
    font-size: 22px;
  }
  .hint { font-size: 14px; opacity: .7; margin-top: 10px; }
</style>
</head>
<body>

<div class="card" id="setup">
  <h1>Impostor Clash</h1>
  <label>N√∫mero de jogadores</label>
  <select id="playerCount">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
  </select>
  <div id="names"></div>
  <button onclick="startGame()">Iniciar</button>
</div>

<div class="card hidden" id="game">
  <h2 id="playerName"></h2>
  <div class="reveal hidden" id="cardReveal"></div>
  <div class="hint">Arraste pra cima para revelar a carta</div>
  <button onclick="nextPlayer()">Pr√≥ximo</button>
</div>

<script>
const clashCards = [ /* lista intacta */ ];

let players = [];
let roles = [];
let index = 0;
let starterIndex = 0;

const namesDiv = document.getElementById('names');

document.getElementById('playerCount').addEventListener('change', e => {
  namesDiv.innerHTML = '';
  for (let i = 0; i < e.target.value; i++) {
    const input = document.createElement('input');
    input.placeholder = `Nome do jogador ${i+1}`;
    namesDiv.appendChild(input);
  }
});
document.getElementById('playerCount').dispatchEvent(new Event('change'));

function startGame() {
  players = [...namesDiv.querySelectorAll('input')].map(i => i.value || 'Jogador');
  const card = clashCards[Math.floor(Math.random() * clashCards.length)];
  roles = players.map(() => card);

  if (players.length > 1) {
    roles[Math.floor(Math.random() * players.length)] = 'IMPOSTOR';
  }

  starterIndex = Math.floor(Math.random() * players.length);
  index = 0;

  document.getElementById('setup').classList.add('hidden');
  document.getElementById('game').classList.remove('hidden');
  showPlayer();
}

function showPlayer() {
  document.getElementById('playerName').innerText = players[index];
  document.getElementById('cardReveal').innerText = roles[index];
  document.getElementById('cardReveal').classList.add('hidden');
}

/* üî¥ √öNICA FUN√á√ÉO ALTERADA */
function nextPlayer() {
  index++;
  if (index >= players.length) {
    alert(`Todos j√° viram! Quem come√ßa √©: ${players[starterIndex]}`);

    index = 0;
    document.getElementById('game').classList.add('hidden');
    document.getElementById('setup').classList.remove('hidden');
    document.getElementById('cardReveal').classList.add('hidden');

    return;
  }
  showPlayer();
}

let startY = 0;
document.getElementById('game').addEventListener('touchstart', e => {
  startY = e.touches[0].clientY;
});
document.getElementById('game').addEventListener('touchend', e => {
  const endY = e.changedTouches[0].clientY;
  if (startY - endY > 50) {
    document.getElementById('cardReveal').classList.remove('hidden');
  }
});
</script>
</body>
</html>
<div class="card hidden" id="game">
  <h2 id="playerName"></h2>
  <div class="reveal hidden" id="cardReveal"></div>
  <div class="hint">Arraste pra cima para revelar a carta</div>
  <button onclick="nextPlayer()">Pr√≥ximo</button>
</div>

<script>
// Lista atualizada de cartas reais (2026)
const clashCards = [
  "Arqueiras", "B√°rbaros", "Gigante", "Mini P.E.K.K.A", "Mosqueteira", "Flechas", "Bola de Fogo", "Valqu√≠ria", "Pr√≠ncipe", "Beb√™ Drag√£o",
  "Ex√©rcito de Esqueletos", "Bruxa", "Mago", "Mago El√©trico", "Golem", "Corredor", "Canh√£o", "Torre Inferno", "Drag√£o Infernal",
  "Mega Cavaleiro", "P.E.K.K.A", "Bal√£o", "Mineiro", "Lava Hound", "Tr√™s Mosqueteiras", "Lenhador", "Executor", "Bandida", "Fantasma Real",
  "Pescador", "Ca√ßador", "Arqueiro M√°gico", "Gigante El√©trico", "Cavaleiro Dourado", "Rainha Arqueira", "Rei Esqueleto",
  "Esp√≠rito de Gelo", "Esp√≠rito de Fogo", "Esp√≠rito El√©trico", "Esp√≠rito de Cura", "Zap", "Rel√¢mpago", "Veneno", "Tornado",
  "F√∫ria", "Espelho", "Clone", "Barril de Goblins", "Gangue de Goblins", "Goblins", "Goblins Lanceiros", "Servos", "Horda de Servos",
  "Cemit√©rio", "M√°quina Voadora", "Cavaleiro", "Ar√≠ete de Batalha", "Carrinho de Canh√£o", "Morteiro", "X-Besta", "Foguete", "Tronco", 
  "Vinhas", "Mago de Gelo", "Eletrocutadores", "Golem de Gelo", "Mineiro Bombado", "Barril de Esqueletos", "Cabana de Goblins", "L√°pide",
  "Bombardeiro", "Bandida L√≠der", "M√°quina Goblin", "Morcegos", "Princesa", "Goblinstein", "Coletor de Elixir", "Gigante Real", "Tesla",
  "Pr√≠ncipe das Trevas", "Jaula de Goblin", "Golem de Elixir", "Pequeno Pr√≠ncipe", "Bruxa Sombria", "Bruxa M√£e", "Domadora de Carneiro",
  "Torre de Bombas", "Destruidores de Muro", "Goblin Gigante", "B√°rbaros de Elite", "Drag√£o El√©trico", "Curadora Guerreira", 
  "Esqueleto Gigante", "Drag√µes Esqueletos", "Mega Servo", "Barril de B√°rbaro", "Sparky", "Goblin com Dardo", "Gelo", "Recrutas Reais",
  "Encomenda Real", "Porcos Reais", "Monge", "F√™nix", "Cabana de B√°rbaros", "Fornalha", "Bola de Neve", "Lan√ßador", "Maldi√ß√£o Goblin",
  "Guardas", "Escavadeira de Goblins", "Goblin Demolidor", "Imperatriz Espiritual", "Patifes", "Gigante das Runas", "Pirot√©cnica",
  "Terremoto", "Berseker", "Arbusto Trai√ßoeiro", "V√°cuo"
];

let players = [];
let roles = [];
let index = 0;
let starterIndex = 0;

const namesDiv = document.getElementById('names');

document.getElementById('playerCount').addEventListener('change', e => {
  namesDiv.innerHTML = '';
  for (let i = 0; i < e.target.value; i++) {
    const input = document.createElement('input');
    input.placeholder = `Nome do jogador ${i+1}`;
    namesDiv.appendChild(input);
  }
});
document.getElementById('playerCount').dispatchEvent(new Event('change'));

function startGame() {
  players = [...namesDiv.querySelectorAll('input')].map(i => i.value || 'Jogador');
  const card = clashCards[Math.floor(Math.random()*clashCards.length)];
  roles = players.map(() => card);

  if (players.length > 1) {
    const impostor = Math.floor(Math.random()*players.length);
    roles[impostor] = 'IMPOSTOR';
  }

  starterIndex = Math.floor(Math.random() * players.length);
  index = 0;

  document.getElementById('setup').classList.add('hidden');
  document.getElementById('game').classList.remove('hidden');
  showPlayer();
}

function showPlayer() {
  document.getElementById('playerName').innerText = players[index];
  document.getElementById('cardReveal').innerText = roles[index];
  document.getElementById('cardReveal').classList.add('hidden');
}

function nextPlayer() {
  index++;
  if (index >= players.length) {
    alert(`Todos j√° viram! Quem come√ßa √©: ${players[starterIndex]}`);
    location.reload();
    return;
  }
  showPlayer();
}

let startY = 0;
document.getElementById('game').addEventListener('touchstart', e => {
  startY = e.touches[0].clientY;
});
document.getElementById('game').addEventListener('touchend', e => {
  const endY = e.changedTouches[0].clientY;
  if (startY - endY > 50) {
    document.getElementById('cardReveal').classList.remove('hidden');
  }
});
</script>
</body>
</html>
